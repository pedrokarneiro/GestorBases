{% extends "gestorbases/_layouts/base.html" %}

{% load widget_tweaks %}


{% load static %}

{% block titulo_conteudo %}Dashboard{% endblock %}

{% block conteudo %}
<div class="container-fluid">

  <div class="row">
    <a href="{% url 'gestorbases:lista_bases' %}">
      <div class="col-sm-4">
        <div class="aw-box">
          <div class="aw-box__icon">
            <i class="fa  fa-database  fa-3x"></i>
          </div>
          <!--<div class="aw-box__title">Bases Registradas</div>-->
          <div class="aw-box__value">Bases Registradas</div>
          <div class="aw-box__value">{{ bases|length }}</div>
        </div>
      </div>
    </a>
    <a href="{% url 'gestorbases:lista_tabelas' %}">
      <div class="col-sm-4">
        <div class="aw-box">
          <div class="aw-box__icon">
            <i class="fa fa-table  fa-3x"></i>
          </div>
          <!--<div class="aw-box__title">Tabelas Registradas</div>-->
          <div class="aw-box__value">Tabelas Registradas</div>
          <div class="aw-box__value">{{ tabelas|length }}</div>
        </div>
      </div>
    </a>
    <a href="{% url 'gestorbases:lista_atualizacoes' %}">
      <div class="col-sm-4">
        <div class="aw-box">
          <div class="aw-box__icon">
            <i class="fa  fa-refresh  fa-3x"></i>
          </div>
          <!--<div class="aw-box__title">Total de Atualizações</div>-->
          <div class="aw-box__value">Atualizações Registradas</div>
          <div class="aw-box__value">{{ atualizacoes|length }}</div>
        </div>
      </div>
    </a>
  </div>

  <div class="row">
    <div class="col-sm-12">
      <div class="aw-graph-box">
        <div class="aw-graph-box__header">
          <h2 class="aw-graph-box__title">Total de atualizações <small>últimos 12 meses</small></h2>
        </div>
        <div class="aw-graph-box__content">
          <div>
            <canvas id="lineChart" width="280" height="70"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}



{% block scripts %}
<script src="{% static 'gestorbases/myChart.js' %}"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

<script type="text/javascript">
  window.onload = loadData('lineChart', 'http://localhost:8000/gestorbases/atualizacoes/chart');
</script>
{% endblock %}